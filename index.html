<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="calculator.css">
    <title>Calculator by Utkarsha</title>
</head>
<body>

    <div class="contener">

        
         <div class="display">
            <input type="text">
         </div>   
        
        
        <div class="row">
            <input type="button" value="AC" onclick="DisplayVla('AC')">
            <input type="button" value="DC" class="operator" onclick="DisplayVla('DC')">
            <input type="button" value="/" class="operator" onclick="DisplayVla('/')">
            <input type="button" value="*" class="operator"  onclick="DisplayVla('*')">
        </div>

        <div class="row">
            <input type="button" value="7" onclick="DisplayVla(7)">
            <input type="button" value="8" onclick="DisplayVla(8)">
            <input type="button" value="9" onclick="DisplayVla(9)">
            <input type="button" value="+" class="operator" onclick="DisplayVla('+')">
        </div>

        <div class="row">
            <input type="button" value="4" onclick="DisplayVla(4)">
            <input type="button" value="5" onclick="DisplayVla(5)">
            <input type="button" value="6" onclick="DisplayVla(6)">
            <input type="button" value="-" class="operator" onclick="DisplayVla('-')">
        </div>

        <div class="row">
            <input type="button" value="1" onclick="DisplayVla(1)">
            <input type="button" value="2" onclick="DisplayVla(2)">
            <input type="button" value="3" onclick="DisplayVla(3)">
            <input type="button" value="%" class="operator" onclick="DisplayVla('%')">
        </div>

        <div class="row">
            <input type="button" value="00" onclick="DisplayVla('00')">
            <input type="button" value="0" onclick="DisplayVla(0)">
            <input type="button" value="." onclick="DisplayVla('.')">
            <input type="button" value="=" class="equal" >
        </div>


    </div>
    
</body>
<script>

    const displaybox = document.querySelector('.display input');

    var operator = 1;
    
    function DisplayVla(val){
        if(val <= 9 && val >= 0){
            displaybox.value += `${val}` ;
            isoperator = 0;
        }
        else if(val=='AC'){
            displaybox.value = `` ;
            isoperator = 0;
        }
        else if(val=='DC'){
            const str = displaybox.value.toString();
            const lastchar = str[str.length - 1];
            if(lastchar == '/' || lastchar == '*' || lastchar == '-' || lastchar == '+' || lastchar == '%' || lastchar == '.' ){

                isoperator = 0;
            }
            displaybox.value =  displaybox.value.toString().slice(0,-1);
        }
        else if(!isoperator){
            displaybox.value += `${val}` ;
            isoperator = 1;
        }
        
    }

    document.querySelector('.equal').addEventListener('click', ()=>{
        const ans = eval(displaybox.value);
        // displaybox.value = ans;
        if(Number.isInteger(ans)){
            displaybox.value = ans;
        }else{
            displaybox.value = ans.toFixed(3);
        }
    })


</script>
</html>